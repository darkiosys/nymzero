<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Menu | Nym Zero</title>
  </head>
  <link href="/assets/css/jquery.toast.css" rel="stylesheet">
  <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
  <style media="screen">
  .center {
    margin: auto;
    width: 100%;
    height: 100%;
    padding: 15%;
  }
  .nickname {
    margin: auto;
    width: 50%;
    padding: 10px;
    margin-bottom: 10px;
    margin-top: 10px;
  }
  </style>
  <body>
    <div class="container">
      <hr>
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-sm">
              <div class="card" data-toggle="modal" href="#myModal">
                <div class="card-body">
                  <h5 class="card-title text-center">Create Room</h5>
                </div>
              </div>
            </div>
            <div class="col-sm">
              <div class="card" id="leaderboard">
                <div class="card-body">
                  <h5 class="card-title text-center">Leaderboard</h5>
                </div>
              </div>
            </div>
            <div class="col-sm">
              <div class="card" id="lobby">
                <div class="card-body">
                  <h5 class="card-title text-center">Lobby</h5>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="myModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Create Room</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form>
                  <div class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">Room</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="name" placeholder="Room Name">
                    </div>
                  </div>
                  <div class="form-group row">
                    <label for="inputPassword" class="col-sm-2 col-form-label">Max</label>
                    <div class="col-sm">
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="max" id="max1" value="6" checked>
                        <label class="form-check-label" for="max1">
                          6
                        </label>
                      </div>
                    </div>
                    <div class="col-sm">
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="max" id="max2" value="9">
                        <label class="form-check-label" for="max2">
                          9
                        </label>
                      </div>
                    </div>
                    <div class="col-sm">
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="max" id="max3" value="12">
                        <label class="form-check-label" for="max2">
                          12
                        </label>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="form-group row">
                    <label for="staticEmail" class="col-sm-2 col-form-label">Bet</label>
                    <div class="col-sm-10">
                      <input type="text" class="form-control" id="bet" placeholder="Amount for play">
                    </div>
                  </div> -->
                </form>
              </div>
              <div class="modal-footer">
                <a id="play" class="btn btn-outline-dark">Play Now!</a>
              </div>
            </div>
        </div>
      </div>
    </div>
    <audio id="music" loop src="/assets/sounds/jazzy.mp3" autoplay> </audio>
  </body>
  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/bootstrap.js"></script>
  <script type="text/javascript">
    let baseUrl = "http://192.168.43.182:3000"
    console.log("here")
    localStorage.setItem('room_id', null)
    $("#play").click(function() {
      let options = {
        room: $('#name').val(),
        bet: 0,
        max: $("input[name='max']:checked").val(),
        create: 1
      }
      localStorage.setItem('game_option', JSON.stringify(options))
      let audio = new Audio('/assets/sounds/click.wav')
      audio.play()
      setTimeout(function() {
        window.location = baseUrl+"/table";
      }, 2000)
    })
    $("#leaderboard").click(function() {
      let audio = new Audio('/assets/sounds/click.wav')
      audio.play()
      setTimeout(function() {
        window.location = baseUrl+"/leaderboard";
      }, 1000)
    })
    $("#lobby").click(function() {
      let audio = new Audio('/assets/sounds/click.wav')
      audio.play()
      setTimeout(function() {
        window.location = baseUrl+"/lobby";
      }, 1000)
    })
    if(!localStorage.getItem("token")){
      let audio = new Audio('/assets/sounds/click.wav')
      audio.play()
      setTimeout(function() {
        window.location = baseUrl+"/auth";
      }, 1000)
    }
  </script>
</html>
